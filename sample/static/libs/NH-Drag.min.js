(function(a){a(function(){a(document.body).append(a("<style>.NH-Drag{-moz-user-select: -moz-none;-moz-user-select: none;                    -o-user-select: none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none;user-select: none}</style>"))});a.fn.NHDrag=function(j){var f=a(this);var g={bydragobj:f,isTransparent:true,};var k=a.extend({},a.fn.NHDrag.defaultparam,j);k=a.extend({},g,k);var i=false;var d,e;var h=0,m=0,l=0,c=0;a(this).bind({"click.NHDrag":function(n){},"mousedown.NHDrag":function(n){i=true;k=a.extend({},a.fn.NHDrag.defaultparam,j);k=a.extend({},g,k);switch(k.bydragobj.css("position")){case"absolute":default:h=k.upper.left==null?-k.bydragobj.outerWidth()/2:k.upper.left;m=k.upper.top==null?0:k.upper.top;l=k.upper.right==null?(document.body.scrollWidth+k.bydragobj.outerWidth()/2):k.upper.right;c=k.upper.bottom==null?(document.body.scrollHeight-k.bydragobj.outerHeight()/2):k.upper.bottom;break;case"fixed":h=k.upper.left==null?-k.bydragobj.outerWidth()/2:k.upper.left;m=k.upper.top==null?0:k.upper.top;l=k.upper.right==null?(a(window).width()-k.bydragobj.outerWidth()/2):k.upper.right;c=k.upper.bottom==null?(a(window).height()-k.bydragobj.outerHeight()/2):k.upper.bottom;break}d=n.pageX-parseInt(k.bydragobj.css("left")=="auto"?0:k.bydragobj.css("left"));e=n.pageY-parseInt(k.bydragobj.css("top")=="auto"?0:k.bydragobj.css("top"));if(k.isTransparent){k.bydragobj.fadeTo(20,0.5)}if(k.bydragobj.find("iframe").length>0){k.bydragobj.find("iframe").hide()}a(document.body).attr("unselectable","on").addClass("NH-Drag");a(document).bind({"mousemove.NHDrag":function(o){if(i){k.bydragobj.css({left:(o.pageX-d)<=h?h:((o.pageX-d)>=l)?l:o.pageX-d,top:(o.pageY-e)<=m?m:((o.pageY-e)>=c?c:(o.pageY-e))})}},"mouseup.NHDrag":function(o){k.bydragobj.find("iframe").show();i=false;k.bydragobj.fadeTo("fast",1);a(document).unbind("mousemove.NHDrag mouseup.NHDrag selectstart.NHDrag");a(document.body).removeClass("NH-Drag").removeAttr("unselectable");a("#isfloat").html(a(document.body).css("user-select"))},"selectstart.NHDrag":function(o){return false}});n.preventDefault();b(n)}})};a.fn.NHDrag.defaultparam={upper:{left:null,right:null,top:null,bottom:null}};function b(c){if(c&&c.stopPropagation){c.stopPropagation()}else{window.event.cancelBubble=true}}})(jQuery);