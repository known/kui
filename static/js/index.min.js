function log(n){console.log(n)}function initDropdown(){$(".dropdown .title").on("mouseenter",function(){$(this).find(".arrow").removeClass("fa-caret-down").addClass("fa-caret-up");$(this).next().show()});$(".dropdown").on("mouseleave",function(){var n=$(this).find(".title");n.find(".arrow").removeClass("fa-caret-up").addClass("fa-caret-down");n.next().hide()})}function Form(n,t){function g(){i.tabs?et(i.tabs):st();i.style&&h.addClass(i.style);i.ahtml&&o.append(i.ahtml);u.body=o;ht(h);i.toolbar&&i.toolbar.length?nt(i.toolbar):o.css({bottom:0});i.url&&it(i.url)}function et(n){var t,i,f;for(r.addClass("tabs tabs-fit tabs-form"),s=$('<div class="tabs-header">').appendTo(r),c=$('<div class="tabs-title">').appendTo(s),l=$("<ul>").appendTo(s),ft(s),a=$('<div class="tabs-body">').appendTo(r),o=$('<div class="tabs-item active" style="padding:0;">').attr("id",d+"0").appendTo(a),h=$('<div class="form">').appendTo(o),t=0;t<n.length;t++)i=n[t],i.index=t,f=$("<li>").append(i.name).appendTo(l).data("item",i).on("click",function(){var n=$(this).data("item"),t;if(ot($(this),n),t=u.getData(),n.onClick)n.onClick({head:t,item:n.component});else n.component&&n.component.load&&n.component.load({head:t,isDetail:k})}),t===0&&f.addClass("active")}function ot(n,t){l.find("li").removeClass("active");n.addClass("active");var u=t.index||0,r=d+u,i=$("#"+r);i.length||(i=$('<div class="tabs-item">').attr("id",r).appendTo(a),new Router(i,{}).route(t));$(".tabs-item",a).removeClass("active");i.addClass("active")}function st(){if(i.card?r.addClass("form-card"):i.info&&r.addClass("form-info"),r.hasClass("form-card"))s=$('<div class="form-card-header">').appendTo(r),c=$('<div class="form-title">').appendTo(s),ft(s),o=$('<div class="form-card-body">').appendTo(r),h=$('<div class="form">').appendTo(o);else if(r.hasClass("form-info")){var n=i.icon||"fa fa-window-maximize";s=$('<div class="form-info-header">').appendTo(r);c=$("<div>").append('<i class="'+n+'">').append(i.title).appendTo(s);o=$('<div class="form-info-body">').appendTo(r);h=$('<div class="form">').appendTo(o)}else o=r,h=r.length?r:$('<div class="form">').appendTo(o)}function ht(n){var s,f,t,o,u,h;if(i.fields&&i.fields.length)s=i.fields.filter(function(n){return n.type&&n.type!==""}),ct(n,s);else for(f=r.find("input,select,textarea"),t=0;t<f.length;t++)o=$(f[t]),u=o.attr("name"),u&&u.length&&(h=e.filter(function(n){return n.name===u}),h.length||v(new Input(o)))}function nt(n){r.hasClass("form-card")?(f||(f=$('<div class="form-card-footer">').appendTo(r)),f.html(""),tt(f,n),Utils.createButton({icon:"fa fa-close",text:Language.Close,style:"danger",handler:function(){u.close()}}).appendTo(f)):(f||(f=$('<div class="form-button">').appendTo(h),i.labelWidth&&f.css({marginLeft:i.labelWidth+20+"px"})),f.html(""),tt(f,n))}function tt(n,t){for(var r,i=0;i<t.length;i++)r=t[i],Utils.createButton(r,{form:u}).appendTo(n)}function it(n){i.isPrint?$.ajax({url:n,"async":!1,success:function(n){u.setData(n)}}):Ajax.get(n,null,function(n){u.setData(n)})}function ct(n,t){var f,i,r,e;for(n.html(""),f=0;f<t.length;f++)(i=t[f],i.visible===undefined||i.visible)&&(i.form=u,i.type==="hidden"?(e=new Input(n,i),v(e)):(i.label?p[i.label]?r=p[i.label]:(r=ut(n,i),p[i.label]=r):r=ut(n,i),i.type==="html"?rt(i,r):(e=new Input(r,i),v(e),rt(i,r)),i.unit&&$('<span class="form-unit">').html(i.unit).appendTo(r),i.tips&&$('<span class="form-tips">').html(i.tips).appendTo(r)))}function rt(n,t){if(n.inputHtml){var i=n.inputHtml;typeof i=="function"?i({form:u,parent:t}):$(i).appendTo(t)}}function ut(n,t){var f=t.label||t.title||"";f.length&&(f+="：");var u=$('<div class="form-item">').appendTo(n),o=$('<label class="form-label">').html(f).appendTo(u),e=$('<div class="form-input">').appendTo(u),s=r.hasClass("form-block");return(t.lineBlock||s&&t.type==="textarea")&&u.addClass("block"),(t.inputBlock||!s&&t.type==="textarea")&&e.addClass("block"),t.colSpan&&u.addClass(t.colSpan),t.required&&o.addClass("required"),i.labelWidth&&(o.css({width:i.labelWidth+"px"}),(t.inputBlock||t.lineBlock||t.type==="textarea")&&e.css({marginLeft:i.labelWidth+20+"px"})),e}function v(n){e.push(n);u[n.name]=n}function ft(n){var t=$('<div class="right-toolbar">').appendTo(n);$('<i class="fa fa-chevron-up">').appendTo(t).click(function(){r.hasClass("collapse")?(r.removeClass("collapse"),$(this).removeClass("fa-chevron-down").addClass("fa-chevron-up")):(r.addClass("collapse"),$(this).removeClass("fa-chevron-up").addClass("fa-chevron-down"))});$('<i class="fa fa-close">').appendTo(t).click(function(){r.hide();i.onClose&&i.onClose()})}var i=t,w=typeof n=="string"?"form"+n:n.attr("id"),r=typeof n=="string"?$("#"+w):n,y=i.title,p={},e=[],u=this,b,k,l,a,d=w+"-tab-",s,c,o,h,f;this.elem=r;this.body=null;this.option=i;this.data={};this.render=function(){return this.elem=r=$("<div>"),g(),r};this.show=function(n,e){var a,p,v,h;b=!0;k=e;n=n||{Id:""};y||(a=getCurTab(),y=a?a.title:"");s.length&&(c.html(""),p=t.icon||"fa fa-window-maximize",c.append('<i class="'+p+'">').append(y),v=n.Id===""?"【"+Language.New+"】":e?"【"+Language.Detail+"】":"【"+Language.Edit+"】",h="",i.titleInfo&&(h=i.titleInfo(n)),h.indexOf("【")>-1&&(v=""),c.append(v+h));u.setData(n,e);i.tabs&&l.find("li:eq(0)").click();f&&(e?f.hide():f.show(),i.tabs||o.css({bottom:(e?0:40)+"px"}));r.removeClass("collapse");r.show()};this.close=function(){b&&r.hide()};this.setToolbar=function(n){this.option.toolbar=n;nt(n)};this.validate=function(){for(var t,i=[],n=0;n<e.length;n++)t=e[n],t.validate()||i.push(t);return i.length===0};this.clear=function(){for(var t,n=0;n<e.length;n++)t=e[n],t.clearError(),t.setValue("")};this.getData=function(){for(var t,r,i={},u=[],n=0;n<e.length;n++)t=e[n],t.name&&t.type!=="html"&&(t.name.indexOf(".")>-1?(r=t.name.split("."),i[r[0]]||(u.push(r[0]),i[r[0]]={}),i[r[0]][r[1]]=t.getValue()):i[t.name]=t.getValue());if(u.length)for(n=0;n<u.length;n++)i[u[n]]=JSON.stringify(i[u[n]]);return i};this.setData=function(n,t){var o,r,f,s,h;for(this.data=n,o=0;o<e.length;o++)r=e[o],r.clearError(),r.data=n,t?r.setReadonly(!0):r.setReadonly(r.readonly),r.name&&r.name.indexOf(".")>-1?(f=r.name.split("."),$.isPlainObject(n[f[0]])||(n[f[0]]=JSON.parse(n[f[0]]||"{}")),r.setValue(n[f[0]][f[1]],t)):(s=n[r.name],r.setValue(s,t));h={form:u,data:n,isDetail:t};i.setData&&i.setData(h)};this.setReadonly=function(n){for(var i,t=0;t<e.length;t++)i=e[t],i.setReadonly(n)};this.setInput=function(n){v(n)};this.load=function(n,t){i.url=n;Ajax.get(n,null,function(n){u.setData(n);t&&t({form:u,data:n})})};this.reload=function(){it(i.url)};this.save=function(n,t){function s(n){r.Id=n;i.tabs?u.show(r,!1):u.close();t&&t(r)}var r,f,e,o;u.validate()&&(r=u.getData(),i.onSaving&&i.onSaving(r),f=[],i.fields&&(f=i.fields.filter(function(n){return n.type&&n.type==="file"})),f.length?Ajax.upload(f[0].field,n,r,s):(e={data:JSON.stringify(r)},i.submitData&&(o=i.submitData(),$.extend(e,o)),Ajax.post(n,e,s)))};r.length&&(g(),i.isPrint||Page.complete())}function Input(n,t){function w(){var t,f,e;_id=i.id||i.field;u=i.field;t=i.type;t==="label"?r=$('<div class="label">').appendTo(n):t==="radio"?h(n,i,i.code):t==="checkbox"?(f=i.code,f==="Enabled"?f=[{Code:1,Name:Language.Enable}]:i.label&&(f=[{Code:1,Name:f==="Enabled"?Language.Enable:i.title}]),f?h(n,i,f):(r=$('<input type="checkbox" value="1">').attr("name",u).appendTo(n),(i.value===1||i.value==="1")&&(r[0].checked=!0))):t==="picker"?(r=$('<input type="hidden">').attr("name",u).appendTo(n),new Picker(r,i)):(t==="select"?(r=$("<select>").appendTo(n),v()):t==="editor"?(r=$("<textarea>").attr("name",u).appendTo(n),g()):t==="textarea"?r=$("<textarea>").appendTo(n):t==="date"?(e=$('<div class="query-date">').appendTo(n),r=$('<input type="text" autocomplete="off">').appendTo(e),$('<span class="icon fa fa-calendar">').on("click",function(){r.focus()}).appendTo(e)):r=$('<input type="'+t+'" autocomplete="off">').appendTo(n),r.attr("name",u),t==="file"&&(r.attr("id",u),r.attr("accept",i.fileExt||".png,.jpg,.pdf,.doc,.docx.xls,.xlsx,.ppt,.pptx"),i.multiple&&r.attr("multiple","multiple")),i.placeholder&&r.attr("placeholder",i.placeholder),i.required&&r.attr("required",!0),i.inputStyle&&r.attr("style",i.inputStyle),i.readonly&&c(!0),i.change&&y(i.change));i.value&&l(i.value)}function b(){r=n;f=r.parent();u=r.attr("name");e=[];$.extend(i,{field:u,type:r[0].nodeName==="SELECT"?"select":r[0].type,required:r[0].required});i.type==="select"&&v()}function c(t){i.type!=="label"&&(t||i.type!=="picker")&&(i.type==="checkbox"||i.type==="radio"?n.find("input").attr("disabled",t):r&&(t?n.find(".icon").hide():n.find(".icon").show(),r.attr("disabled",t)))}function l(n){var h,c,a,e,t,v,l;if(s.value=n,i.type==="file")r.val(""),h=r.parent().find(".file"),h.length&&h.html(""),c=s.data[i.idField],c!==null&&c!==""&&c!==undefined&&(h.length||(h=$('<span class="file inline">').appendTo(r.parent())),$('<span class="link">').data("id",c).html(n).on("click",function(){BizFile.download($(this).data("id"))}).appendTo(h));else if(i.type==="label")a=n,i.code&&(a=Utils.getCodeName(i.code,n)),r.html(a);else if(i.type==="radio")for(e=f.find('input[name="'+u+'"]'),t=0;t<e.length;t++)e[t].checked=e[t].value===n;else if(i.type==="checkbox")for(e=f.find('input[name="'+u+'"]'),t=0;t<e.length;t++)v=e[t].value,e[t].checked=n===1||n===!0||n&&n.indexOf(v)>-1;else l=r.attr("placeholder"),l&&(n instanceof Date?n=n.format(l):isNaN(n)&&!isNaN(Date.parse(n))&&(n=new Date(n).format(l))),r.val(n),o&&o.txt.html(n)}function a(n,t){$.get(n,function(n){s.setData(n);t&&t(n)})}function h(n,t,i,r){var f,o,u;if((t.label||n.html(""),i)&&(e=Utils.getCodes(i),r=r||t.value,e&&e.length)){for(f=[],t.type==="select"&&(o="",o=t.emptyText!==undefined?t.emptyText:t.isQuery?Language.All:Language.PleaseSelect,o!==""&&f.push({Code:"",Name:o})),u=0;u<e.length;u++)f.push(e[u]);for(u=0;u<f.length;u++){var i=f[u],s=i.Code===""?"":i.Code||i,h=i.Name||s;t.type==="select"?k(n,f[u],s,h,r):d(n,f[u],s,h,t)}}}function v(){i.code&&h(r,i,i.code);i.url&&a(i.url)}function y(n){r.change(function(){var t=$(this);n&&n({form:i.form,elem:t,value:t.val(),selected:t.find(":selected").data("data")})})}function k(n,t,i,r,u){var f=$("<option>").data("data",t).attr("value",i).html(r).appendTo(n);u&&i===u&&f.attr("selected",!0)}function d(n,t,i,r,u){if(t.Code==="-"){$("<br>").appendTo(n);return}var f=$('<label class="form-radio">').appendTo(n),e=$("<input>").data("data",t).attr("type",u.type).attr("name",u.field).attr("value",i).appendTo(f),o=u.value;if(o&&i===o&&e.attr("checked",!0),u.onClick)e.on("click",function(){u.onClick($(this).val())});$("<span>").html(r).appendTo(f)}function g(){var n,f,i;window.wangEditor||Utils.addJs(baseUrl+"/static/libs/wangEditor.min.js");r.hide();n="editor"+u;f=r.before('<div id="'+n+'" class="editor">');o=new window.wangEditor("#"+n);o.config.onchange=function(n){r.val(n)};OssClient.config.accessKeyId?(i=new OssClient,o.config.customUploadImg=function(n,r){var e=t.form.OssUrl.getValue(),f=t.form.OssPath.getValue(),u;if(!e&&!f){Layer.tips("OSSPath"+Language.NotEmpty+"！");return}u=n[0];f+="/"+u.lastModified+u.name;i.put(f,u,function(n){r(e+n.name)})}):o.config.uploadImgServer=baseUrl+"/System/Upload";setTimeout(function(){o.create()},10)}var f=n,i=t||{},r,p=i.readonly===undefined?!1:t.readonly,u,e,o,s=this;t&&t.type?w():b();this.option=i;this.elem=r;this.readonly=p;this.name=u;this.type=i.type;this.value="";this.data={};this.validate=function(){if((s.clearError(),i.type==="hidden")||i.type==="checkbox"&&e&&e.length===1)return!0;var n=$.trim(s.getValue());return r&&!r[0].disabled&&i.required&&n===""?(f.addClass("error"),!1):i.required&&n===""?(f.addClass("error"),!1):!0};this.clearError=function(){f.removeClass("error")};this.getValue=function(){var n,t;return i.type==="label"?s.value:i.type==="radio"?f.find('input[name="'+u+'"]:checked').val()||"":i.type==="checkbox"?(n=f.find('input[name="'+u+'"]'),n.length===1?n[0].checked?1:0:(t=[],f.find('input[name="'+u+'"]:checked').each(function(n,i){t.push($(i).val())}),t.join(","))):r.val()};this.setValue=function(n,t){l(n,t)};this.setReadonly=function(n){c(n)};this.setVisible=function(n){n?f.parent().show():f.parent().hide()};this.setUrl=function(n,t){a(n,t)};this.getData=function(){if(i.type==="select")return r.find(":selected").data("data");var n=[];return f.find("input:checked").each(function(t,i){n.push($(i).data("data"))}),n};this.setData=function(n,t){h(r,i,n,t)};this.change=function(n){y(n)};this.setUnit=function(t,i){var r=n.find(".form-unit").html(t);i&&r.css(i)};this.setTips=function(t,i){var r=n.find(".form-tips").html(t);i&&r.css(i)}}function Picker(n,t){function c(){var n=u.pick||{},t;n.action&&(n=Picker.action[n.action]||{},$.extend(!0,n,u.pick));f=n.multiSelect||!1;t=$('<span class="icon fa fa-ellipsis-h">').on("click",function(){l(n)});n.valueField===n.textField?(i.attr("type","text").attr("disabled",!0),t.insertAfter(i)):(r=$('<input type="text">').attr("name",o+"Name").attr("disabled",!0).insertAfter(i),u.form&&u.form.setInput(new Input(r,{readonly:!0})),t.insertAfter(r))}function l(n){var t,i=Layer.open({title:n.title,width:n.width||600,height:n.height||400,content:function(r){n.type==="tree"?t=new Tree("treePick",{url:n.url}):(n.showCheckBox=!0,n.multiSelect=f,f||(n.dblclick=function(t){s(i,n,[t.row])}),t=new Grid("Pick",n));t.render().appendTo(r);n.onLoad&&n.onLoad({form:u.form,control:t,option:n})},buttons:[{text:Language.OK,handler:function(){var u,r;if(n.type==="tree"){if(u=t.selectedNode,!u){Layer.tips(Language.PleaseSelect+Language.Node+"！");return}a(i,n,u)}else{if(r=t.getSelected(),f){if(!r||r.length===0){Layer.tips(Language.PleaseSelectOneAtLeast);return}}else if(!r||r.length===0||r.length>1){Layer.tips(Language.PleaseSelectOne);return}s(i,n,r)}}}]})}function a(n,i,r){var u={form:t.form};u.value=r.id;u.text=r.title;u.data=r.data;h(u);i.callback&&i.callback(u);n.close()}function s(n,i,r){var u={form:t.form},s,c,e,o;if(f){for(s=[],c=[],e=0;e<r.length;e++)s.push(r[e][i.valueField]),c.push(r[e][i.textField]);u.value=s.join(",");u.text=c.join(",");u.data=r}else o=r[0],u.value=o[i.valueField],u.text=o[i.textField],u.data=o;h(u);i.callback&&i.callback(u);n.close()}function h(n){i.data(e,n.data);i.val(n.value);r&&r.val(n.text)}var i=typeof n=="string"?$('[name="'+n+'"]'):n,u=t||{},f=!1,o=i.attr("name"),r,e="data";c();this.name=o;this.validate=function(){var n=$.trim(this.getValue());return!i[0].disabled&&i[0].required&&n===""?!1:!0};this.getValue=function(){var n=i.data(e);return n&&n.value?n.value:i.val()};this.getData=function(){var n=i.data(e);return n&&n.data?n.data:null};this.setValue=function(n,t){i.val(n);r&&r.val(t)}}function getCurTab(){return Admin.currentTab}var baseUrl=$("base").attr("href"),baseApiUrl,Layer;baseUrl=baseUrl.substring(0,baseUrl.length-1);baseApiUrl=baseUrl;Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length===1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};var Utils={getUrlParam:function(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(i);return t==null?null:decodeURI(t[2])},addCss:function(n,t){var r=document.createElement("link"),i;r.rel="stylesheet";r.href=n;i=$('link[href*="static/libs/"]');(!i.length||t)&&(i=$('link[href*="static/"]'));i.last().after($(r))},addJs:function(n,t){var r=document.createElement("script"),i;r.src=n;i=$('script[src*="static/libs/"]');(!i.length||t)&&(i=$('script[src*="static/"]'));i.last().after($(r))},loadJs:function(n){window.onload=function(){var t=document.createElement("script");t.src=n;document.body.appendChild(t)}},format:function(n,t){return arguments.length==1?function(){var t=$.makeArray(arguments);return t.unshift(n),$.format.apply(this,t)}:(arguments.length>2&&t.constructor!=Array&&(t=$.makeArray(arguments).slice(1)),t.constructor!=Array&&(t=[t]),$.each(t,function(t,i){n=n.replace(new RegExp("\\{"+t+"\\}","g"),i)}),n)},copy:function(n){var t=document.createElement("textarea"),i,r;t.value=n;t.style.position="absolute";t.style.left="-9999px";document.body.appendChild(t);i=document.getSelection();r=i.rangeCount>0?i.getRangeAt(0):!1;t.select();document.execCommand("copy");document.body.removeChild(t);r&&(i.removeAllRanges(),i.addRange(r))},paste:function(n,t){n?$(document).bind("paste",function(){if(event.clipboardData||event.originalEvent){var n=event.clipboardData||window.clipboardData,i=n.getData("text");t&&t(i);event.preventDefault()}}):$(document).unbind("paste")},list2Tree:function(n,t){if(!n)return[];let i=n.slice();return i.filter(function(n){let r=i.filter(function(t){return n.id===t.pid});return r.length>0&&(n.children=r),n.pid===t})},tree2List:function(n){if(!n)return[];let i=[],t=n.slice();while(t.length){let r=t.shift();i.push(r);let n=r.children;if(n&&n.length)for(let i=0;i<n.length;i++)t.push(n[i])}return i},getExtIcon:function(n){switch(n){case".pdf":return"fa fa-file-pdf-o pdf";case".doc":case".docx":return"fa fa-file-word-o doc";case".xls":case".xlsx":return"fa fa-file-excel-o xls";case".ppt":case".pptx":return"fa fa-file-powerpoint-o ppt";case".jpg":case".jpeg":case".gif":case".png":case".tif":return"fa fa-file-photo-o";case".rar":case".zip":case".gz":return"fa fa-file-zip-o";default:return"fa fa-file-o"}},setUser:function(n){n?sessionStorage.setItem("Known_User",JSON.stringify(n)):sessionStorage.removeItem("Known_User")},getUser:function(){var n=sessionStorage.getItem("Known_User");return!n||n==="undefined"?null:JSON.parse(n)},setCodes:function(n){n?localStorage.setItem("Known_Codes",JSON.stringify(n)):localStorage.removeItem("Known_Codes")},getCodes:function(n){var i,t,r,u;if(!n)return[];if($.isArray(n))return n;if($.isPlainObject(n)){i=[];for(t in n)i.push({Code:t,Name:t,Data:n[t]});return i}return n==="YesNo"?[{Code:1,Name:Language.Yes},{Code:0,Name:Language.No}]:n==="HasNot"?[{Code:1,Name:Language.Has},{Code:0,Name:Language.Not}]:n==="Enabled"?[{Code:1,Name:Language.Enable},{Code:0,Name:Language.Disable}]:(r=localStorage.getItem("Known_Codes"),!r)?[]:(u=JSON.parse(r),!u)?[]:u[n]||[]},getCodeName:function(n,t){var r=this.getCodes(n),f,e,u,i;if(r&&r.length){if(typeof t=="string"&&t.indexOf(",")>0){for(f=t.split(","),e=[],u=0;u<f.length;u++)i=r.filter(function(n){return n.Code===f[u]}),i.length&&e.push(i[0].Name||t);return e.join(",")}if(i=r.filter(function(n){return n.Code===t}),i.length)return i[0].Name||t}return t},getCodeObject:function(n,t){var f={},i=this.getCodes(n),r,u;if(i&&i.length)for(r=0;r<i.length;r++)u=i[r],t&&t.push(u.Name),f[u.Code]=u.Name;return f},genFile:function(n,t){function e(n){for(var i=new ArrayBuffer(n.length),r=new Uint8Array(i),t=0;t!=n.length;++t)r[t]=n.charCodeAt(t)&255;return i}var u=new Blob([e(n)],{type:"application/octet-stream"}),f=URL.createObjectURL(u),r=document.createElement("a"),i;r.href=f;r.download=t||"";window.MouseEvent?i=new MouseEvent("click"):(i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null));r.dispatchEvent(i)},checkMobile:function(){for(var r=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!1,n=0;n<t.length;n++)if(r.indexOf(t[n])>0){i=!0;break}return i},printIframe:null,print:function(n){var t=this.printIframe,i;this.printIframe||(t=this.printIframe=document.createElement("iframe"),document.body.appendChild(t),t.style.display="none");n.url?(t.src=n.url,n.ajax||(t.onload=function(){setTimeout(function(){t.contentWindow.print()},1)})):n.html&&(i=t.contentWindow.document,i.open(),i.write("<title>"+n.title+"<\/title>"),$(document).find("link").filter(function(){return $(this).attr("rel").toLowerCase()==="stylesheet"}).each(function(){i.write('<link rel="stylesheet" href="'+$(this).attr("href")+'">')}),i.write("<style>html,body{overflow:auto;height:auto;}.form-table{padding:0;}<\/style>"),setTimeout(function(){typeof n.html=="function"?i.write(n.html()):i.write(n.html);setTimeout(function(){t.contentWindow.print()},1)},100))},initPCAField:function(n){var t,i;window.PCARegion||this.addJs(baseUrl+"/static/libs/region.js");n.form.Province.setData(window.PCARegion,n.data.Province);n.form.Province.change(function(n){n.form.City.setData(n.selected.Data);n.form.Area.setData([])});n.form.City.change(function(n){n.form.Area.setData(n.selected.Data)});n.data.Province&&(t=n.form.Province.getData()||{},n.form.City.setData(t.Data,n.data.City));n.data.City&&(i=n.form.City.getData()||{},n.form.Area.setData(i.Data,n.data.Area))},createButton:function(n,t){var i=$("<button>").data("item",n);n.icon&&i.append('<i class="'+n.icon+'">');n.style&&i.addClass(n.style);i.append("<span>"+(n.text||n.name)+"<\/span>").on("click",function(){var n=$(this).data("item"),i;n.handler&&(t&&$.isFunction(t)&&(t=t()),i=$.extend({item:n},t),n.handler.call(this,i))});return i}},Ajax={get:function(n,t,i){var r=Layer.loading(Language.Loading+"......");$.get(n,t,function(n){r.close();n.message&&Layer.tips(n.message);n.ok?i&&i(n.data):i&&i(n)})},post:function(n,t,i){var r=Layer.loading(Language.Submitting+"......");$.post(n,t,function(n){r.close();n.ok?(Layer.tips(n.message),i&&i(n.data)):n.message?Layer.alert(n.message):i&&i(n)})},upload:function(n,t,i,r){for(var s=Layer.loading(Language.Uploading+"......"),e=new FormData,u=new XMLHttpRequest,o=document.getElementById(n).files,f=0;f<o.length;f++)e.append("file"+f,o[f],o[f].name);i&&e.append("data",JSON.stringify(i));u.onload=function(){s.close();var n=JSON.parse(u.responseText);n.ok?(Layer.tips(n.message),r&&r(n.data)):n.message?Layer.alert(n.message):r&&r(n)};u.upload.onprogress=function(n){var t=n.loaded,i=n.total};u.open("post",t,!0);u.send(e)},download:function(n,t,i){function o(n){var i=new RegExp("(^| )"+n+"=([^;]*)(;|$)"),t=document.cookie.match(i);return t&&t.length>3?unescape(t[2]):null}function s(){var n=Layer.loading(Language.Downloading+"......"),t=window.setInterval(function(){var r=o(f);r===e&&(window.clearInterval(t),n.close(),i&&i())},1e3)}var f="downloadToken",e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)}),r=$('<form method="post" action="'+n+'" target="" style="display:none">').appendTo("body"),u;if($('<input type="hidden">').attr("name",f).attr("value",e).appendTo(r),t&&t!==null)for(u in t)$('<input type="hidden">').attr("name",u).attr("value",t[u]).appendTo(r);r.submit();s()}},WsUtil={ws:null,isClosed:!1,connect:function(n,t,i){var r=this;return r.log(Language.Connecting+"......"),r.ws=new WebSocket(n),r.ws.onopen=function(){r.log(Language.ClientConnected);t&&r.send(JSON.stringify(t))},r.ws.onmessage=function(n){n.data&&i&&i(n.data)},r.ws.onclose=function(){r.isClosed||(r.log(Language.ClientDisconnected),r.connect(n,t,i))},r.ws.onerror=function(n){r.log(n);r.close()},window.onbeforeunload=function(){r.close()},r.ws},send:function(n){this.ws&&this.ws.send(n)},close:function(){this.isClosed=!0;this.ws&&(this.ws.close(),this.ws=null,this.log(Language.ClientClosed))},log:function(n){console.log(n)}},Page={complete:function(){initDropdown();$(".tabs-header li").click(function(){var n=$(this).parent().parent(),t=$(this).index();n.find(".tabs-header li").removeClass("active");n.find(".tabs-item").removeClass("active");$(this).addClass("active");n.find(".tabs-item:eq("+t+")").addClass("active")});$('[placeholder="yyyy-MM-dd"]:not([readonly])').each(function(){$(this).fdatepicker({format:"yyyy-mm-dd"})});$('[placeholder="yyyy-MM-dd HH:mm"]:not([readonly])').each(function(){$(this).fdatepicker({format:"yyyy-mm-dd hh:ii",pickTime:!0})});$("input[onenter]").keydown(function(n){if((n.keyCode||n.which)===13){n.preventDefault();var t=$(this).attr("onenter");eval(t)}})}},curUser=Utils.getUser();$(document).ajaxSend(function(n,t){t.setRequestHeader("token",curUser?curUser.Token:"")});$(document).ajaxComplete(function(n,t){if(t.responseText&&t.responseText.match("^{(.+:.+,*){1,}}$")){var i=JSON.parse(t.responseText);i&&(i.timeout?top.location=baseUrl+"/login":i.error&&(top.location=baseUrl+"/error?t="+i.type))}});$(function(){initDropdown()});Form.bind=function(n,t,i){var f,u,r,e,o,s;for(f in t)u=n.find('[name="'+f+'"]'),u.length&&(r=t[f],e=u.attr("placeholder"),e&&(o=r instanceof Date?r:new Date(r),r=o.format(e)),s=u[0].nodeName,"DIV,P,SPAN,TD".indexOf(s)>-1?u.html(r):u.val(r),i&&i({elem:u,value:r,data:t}))};Picker.action={};Layer={index:1e5,page:function(n){return this._show("page",n)},open:function(n){return this._show("dialog",n)},loading:function(n){var i,e;if(n=n||"",n==="")return{close:function(){}};var r=this,t=r.index++,u="mask"+t,f="load"+t;return $('<div class="mask">').attr("id",u).css({zIndex:t}).appendTo($("body")),i=$('<div class="loading">').attr("id",f).append('<i class="fa fa-spinner">').append(n),e=i.outerWidth(),i.css({marginLeft:-(e/2)+"px",zIndex:t+1}).appendTo($("body")),{close:function(){$("#"+u+",#"+f).remove();r.index--}}},tips:function(n){var t,i,r;(n=n||"",n!=="")&&(t=$(".tips"),t.length||(t=$('<div class="tips">').css({zIndex:this.index}).appendTo($("body"))),t.html(n),i=t.outerWidth(),r=t.outerHeight(),t.css({marginLeft:-(i/2)+"px",marginTop:-(r/2)+"px"}),setTimeout(function(){t.remove()},3e3))},alert:function(n,t){var i=this.open({icon:"fa fa-info-circle",title:Language.Tips,width:300,height:150,content:'<div style="text-align:center;height:56px"><div style="padding-top:15px;">'+n+"<\/div><\/div>",footer:'<button class="ok">'+Language.OK+"<\/button>"});i.layer.find(".dialog-footer .ok").click(function(){t&&t();i.close()})},confirm:function(n,t){var i=this.open({icon:"fa fa-question-circle",title:Language.Confirm,width:300,height:150,content:'<div style="text-align:center;height:56px"><div style="padding-top:15px;">'+n+"<\/div><\/div>",footer:'<button class="ok">'+Language.OK+'<\/button><span style="width:20px;display:inline-block;"><\/span><button class="cancel">'+Language.Cancel+"<\/button>"});i.layer.find(".dialog-footer .ok").click(function(){t&&t();i.close()});i.layer.find(".dialog-footer .cancel").click(function(){i.close()})},_show:function(n,t){function h(n){$('<i class="fa fa-close close">').appendTo(n).click(function(){e.close();t.onClose&&t.onClose()})}function b(n){n.mousedown(function(n){n.preventDefault();r.move=!0;r.offset=[n.clientX-parseFloat(i.css("left")),n.clientY-parseFloat(i.css("top"))]});$(document).mousemove(function(n){if(n.preventDefault(),r.move){var t=n.clientX-r.offset[0],u=n.clientY-r.offset[1];i.css({left:t,top:u})}}).mouseup(function(){delete r.move})}function p(n,i){if(t.content)i&&n.css({overflow:"auto"}),typeof t.content=="function"?t.content(n):n.append(t.content);else if(t.url)t.partial?(i&&n.css({overflow:"auto"}),n.load(t.url)):(i||n.css({padding:0,overflow:"hidden"}),$('<iframe frameborder="0">').attr("src",t.url).appendTo(n));else if(t.component){var r=new Router(n);r.route(t)}}function k(n){if(t.footer)$('<div class="dialog-footer">').html(t.footer).appendTo(n);else if(t.buttons){var i=$('<div class="dialog-footer">').appendTo(n);$(t.buttons).each(function(n,t){$('<button class="ok">').append(t.text).on("click",function(){t.handler&&t.handler.call(this,e)}).appendTo(i)});$('<button class="cancel">'+Language.Cancel+"<\/button>").on("click",function(){e.close();t.onClose&&t.onClose()}).appendTo(i)}else s.css({bottom:0})}var a=this,f=a.index++,v="mask"+f,y="layer"+f,i,e,r,c,l,w,o,s,u;return $('<div class="mask">').attr("id",v).css({zIndex:f}).appendTo($("body")),i=$("<div>").attr("id",y).addClass(n).css({zIndex:f+1}).appendTo($("body")),e={index:f,layer:i,close:function(){$("#"+v+",#"+y).remove();a.index--}},r={},n==="dialog"?(c=t.width||500,l=t.height||300,i.css({width:c+"px",height:l+"px",marginTop:-(l/2)+"px",marginLeft:-(c/2)+"px"}),u=$('<div class="dialog-content">').appendTo(i),t.title?(w=t.icon||"fa fa-window-maximize",o=$('<div class="dialog-header">').append('<i class="icon '+w+'">').append(t.title),b(o),h(o),u.append(o)):t.showClose&&h(i),s=$('<div class="dialog-body">').appendTo(u),t.title||s.css({top:0}),p(s,!1),k(u)):(u=$('<div class="page-content">').appendTo(i),h(i),p(u,!0)),t.success&&t.success(),e}};var Admin={option:null,menuList:[],menuTree:[],currentSys:null,currentTab:null,injects:[],cacheHelp:{},show:function(n){if(Utils.checkMobile()){location=baseUrl+"/app.html";return}n.multiTab&&AdminTab.bindContextMenu();this.option=n;this._setLanguage();this._bindAction();var t=this;$.get(n.GetUserData,function(n){var i,r;if(n.user){for(n.user.UserName==="System"&&$("#topRight .site").show(),$("#userName").html(n.user.Name),t.setUserAvatar(n.user.AvatarUrl),Utils.setUser(n.user),Utils.setCodes(n.codes),i=0;i<n.menus.length;i++)r=n.menus[i],r.type!=="button"&&t.menuList.push($.extend({},r));t.menuTree=Utils.list2Tree(n.menus,n.user.AppId);t.menuTree.length&&(t.currentSys=t.menuTree[0],t.menuTree.length>1?(t._renderTopMenu(t.menuTree),t._renderLeftMenu(t.currentSys)):n.user.AppTopMenu?(t._renderTopMenu(t.menuTree[0].children),t._renderLeftMenu(t.menuTree[0].children[0])):t._renderLeftMenu(t.currentSys),t._showHomePage(t.currentSys));t._checkValidDate(n.user)}$(".loader").fadeOut()})},setUserAvatar:function(n){$("#userAvatar").attr("src",baseUrl+n)},inject:function(n){if(this.injects.indexOf(n)===-1){this.injects.push(n);var t=document.createElement("script");t.src=n;$('script[src*="static/"]').last().after($(t))}},showPage:function(n){var i,r;if(n){var t=this,u=(t.currentSys.app||"").toLowerCase(),f=(t.currentSys.code||"").toLowerCase();n.isTop&&!n.url?(n.url="/pages/page.html?m=Dashboard",n.type==="page"&&(n.url="/pages/page.html?a="+u+"&s="+f+"&m="+n.code+"Dashboard")):n.type==="page"&&(n.url="/pages/page.html?a="+u+"&s="+f+"&m="+n.code);this.option.multiTab?AdminTab.showTab(n):(i=$(".tabs-header").html(""),$('<i class="fa fa-home" style="margin-left:10px;">').appendTo(i),n.isTop?i.append(Language.HomePage):($('<span class="link">'+Language.HomePage+"<\/span>").on("click",function(){t._showHomePage(t.currentSys)}).appendTo(i),i.append(" / "+n.name)),r=$(".layout-body iframe"),r.length||(r=$('<iframe frameborder="0">').appendTo($(".layout-body"))),r.attr("title",n.title),t.currentTab=n,t._loadFrame(r,n.url));t._loadHelp(n.hid)}},_loadFrame:function(n,t){if(t){var i=Layer.loading(Language.Loading+"......");n.attr("src",baseUrl+t).on("load",function(){i.close()})}},_loadHelp:function(n){var t=$(".layout-help .content"),i,r;t.length&&(i=this,r=i.cacheHelp[n],r?t.html(r):(t.html(Language.Loading+"......"),$.get(i.option.Help+"?hid="+n,function(r){i.cacheHelp[n]=r;t.html(r)})))},_setLanguage:function(){$('[action="refresh"]').attr("title",Language.RefreshPage);$('[action="share"]').attr("title",Language.ShareSystem);$('[action="feedback"]').attr("title",Language.Feedback);$('[action="fullScreen"]').attr("title",Language.FullScreen);$('[action="shortcut"]').attr("title",Language.Shortcut);$('[action="site"]').attr("title",Language.SiteSetting);$('[action="toggle"]').attr("title",Language.Collapse);$('[action="help"]').attr("title",Language.HelpDocument);$("#UserCenter").html(Language.UserCenter);$("#SafeLogout").html(Language.SafeLogout);$("#TechSupport").html(Language.TechSupport)},_bindAction:function(){var n=this,t={refresh:function(){if(n.option.multiTab)AdminTab.refreshTab();else{var t=$(".layout-body iframe"),i=t.attr("src");n._loadFrame(t,i)}},share:function(){alert("share")},feedback:function(){var t;Layer.open({title:Language.Feedback,width:650,height:450,content:'<div id="formFeedback" class="form"><\/div>',success:function(){t=new Form("Feedback",{fields:[{field:"AppId",type:"hidden"},{field:"FeedName",type:"hidden"},{field:"FeedById",type:"hidden"},{title:Language.FeedBy,field:"FeedBy",type:"text",required:!0,readonly:!0},{title:Language.ContactMode,field:"FeedPhone",type:"text",required:!0},{title:Language.FeedContent,field:"Content",type:"textarea",required:!0,lineBlock:!0,inputStyle:"height:230px;"},{title:Language.Attachment,field:"File",type:"file",lineBlock:!0}]});var n=Utils.getUser();t.setData({AppId:n.AppId,FeedName:n.CompName,FeedById:n.UserName,FeedBy:n.Name,FeedPhone:n.Mobile})},buttons:[{text:Language.Send,icon:"fa fa-send-o",handler:function(i){if(t.validate()){var r=t.getData();Ajax.upload("File",n.option.Feedback,r,function(){i.close()})}}}]})},fullScreen:function(){var n=document.documentElement,i=n.requestFullScreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullScreen,t;i?i.call(n):typeof ActiveXObject!="undefined"&&(t=new ActiveXObject("WScript.Shell"),t!==null&&t.SendKeys("{F11}"));$(this).attr("action","exitScreen").html('<i class="fa fa-arrows"><\/i>')},exitScreen:function(){var n=document,i=n.cancelFullScreen||n.webkitCancelFullScreen||n.mozCancelFullScreen||n.exitFullScreen,t;i?i.call(n):typeof ActiveXObject!="undefined"&&(t=new ActiveXObject("WScript.Shell"),t!==null&&t.SendKeys("{F11}"));$(this).attr("action","fullScreen").html('<i class="fa fa-arrows-alt"><\/i>')},shortcut:function(){},site:function(){n.showPage({id:"site",title:$(this).attr("title"),icon:$(this).find("i").attr("class"),type:"page",code:"SysSite"})},userInfo:function(){n.showPage({id:"userInfo",title:$(this).text(),icon:$(this).find("i").attr("class"),type:"page",code:"SysUserInfo"})},logout:function(){Layer.confirm(Language.LogoutConfirm,function(){$.post(n.option.SignOut,function(){Utils.setUser(null);Utils.setCodes(null);window.location=baseUrl+"/login"})})},toggle:function(){var n=$(this).data("status");n&&n==="1"?($(this).data("status","0").addClass("fa-dedent").removeClass("fa-indent"),$("body").removeClass("layout-mini")):($(this).data("status","1").addClass("fa-indent").removeClass("fa-dedent"),$("body").addClass("layout-mini"),$(".nav-tree i").each(function(n,t){var i=$(t).next().text();$(t).attr("title",i)}))},help:function(){var t=$(".layout-help"),i=$(".layout-body");t.length||(i.css({right:"400px"}),t=$('<div class="layout-help">').insertAfter(i),$('<span class="fa fa-close close">').on("click",function(){i.css({right:0});t.remove()}).appendTo(t),$('<div class="title">').html('<i class="fa fa-question-circle-o"><\/i>'+Language.HelpDocument).appendTo(t),$('<div class="content">').appendTo(t));n._loadHelp(n.currentTab.hid)}};$("[action]").on("click",function(){var n=$(this),i=n.attr("action");t[i]?t[i].call(this,n):""})},_showHomePage:function(n){n.isTop=!0;this.showPage(n)},_renderTopMenu:function(n){for(var i=this,r=$("#topMenu").html(""),t=0;t<n.length;t++)$("<li>").addClass("nav-item"+(t===0?" active":"")).data("page",n[t]).html(n[t].name).on("click",function(){r.find("li").removeClass("active");$(this).addClass("active");var n=$(this).data("page");n.url&&i._showHomePage(n);i._renderLeftMenu(n)}).appendTo(r)},_renderLeftMenu:function(n){for(var f,h,r,c,e=this,u=$("#leftMenu").html(""),o=function(n){u.find(".nav-title,.nav-child dd").removeClass("active");n.addClass("active")},s=function(n,t){t?(n.data("show","1"),n.next().show(),n.find("span.fa").removeClass("fa-chevron-down").addClass("fa-chevron-up")):(n.data("show","0"),n.next().hide(),n.find("span.fa").removeClass("fa-chevron-up").addClass("fa-chevron-down"))},i=n.children||[],t=0;t<i.length;t++)f=$("<li>").addClass("nav-item").appendTo(u),h=$("<div>").addClass("nav-title").append('<i class="'+i[t].icon+'">').append("<span>"+i[t].name+"<\/span>").data("page",i[t]).data("show","0").appendTo(f).on("click",function(){var n=$(this),t;o(n);t=n.data("page");t.url||t.type==="page"?e.showPage(t):(u.find(".nav-title").not(n).each(function(n,t){s($(t),!1)}),s(n,n.data("show")==="0"))}),i[t].children&&i[t].children.length&&(r=i[t].children.filter(function(n){return n.type!=="button"}),r&&r.length&&(h.append('<span class="fa fa-chevron-down"><\/span>'),c=$("<dl>").addClass("nav-child").appendTo(f),$(r).each(function(n,t){var i=$("<dd>").append('<i class="'+t.icon+'">').append("<span>"+t.name+"<\/span>").data("page",t).appendTo(c).on("click",function(){o($(this));e.showPage($(this).data("page"))})})))},_checkValidDate:function(n){var i=n.AppValidDate,t,u,f;if(i!=="永久")if(i==="")Layer.open({width:300,height:100,content:'<div class="alert-content center">'+Language.ProductNotAuthorized+"<\/div>"});else{var e=Date.parse(i),o=new Date,r=parseInt((e-o)/864e5)+1;r<=30&&(t='<div id="divValidDate" class="layout-alert">',u=Utils.format(Language.ProductValidDateTips,r),t+='<div class="alert-content">'+u+"<\/div>",t+=n.AppYun?'<div class="alert-toolbar"><button class="ok" style="margin-right:20px;">'+Language.OK+'<\/button><button class="cancel">'+Language.Close+"<\/button><\/div>":'<div class="alert-toolbar"><button class="active" style="margin-right:20px;">'+Language.GoToActivate+'<\/button><button class="cancel">'+Language.Close+"<\/button><\/div>",t+="<\/div>",f=Layer.open({width:450,height:200,content:t,success:function(){$("#divValidDate button.active").click(function(){location=baseUrl+"/active"});$("#divValidDate button.ok,#divValidDate button.cancel").click(function(){f.close()})}}))}}},AdminTab={showTab:function(n){var t=this,i="tab-"+n.id,r=$("#"+i),f;if(!r.length){var e=n.isTop?"fa fa-home":n.icon,u=n.isTop?Language.HomePage:n.title,o=$('<div id="h'+i+'" class="tabs-header-item">').data("data",n).append('<i class="icon '+e+'">').append('<span class="title">'+u+"<\/span>").on("click",function(){t.activeTab($(this).data("data"))}).appendTo($(".tabs-header"));u!==Language.HomePage&&$('<i class="close fa fa-close">').data("data",n).on("click",function(){t.closePage($(this).data("data"))}).appendTo(o);r=$('<div id="'+i+'" class="tabs-body-item">').appendTo($(".layout-body"));f=$('<iframe frameborder="0">').attr("title",n.title).appendTo(r);Admin._loadFrame(f,n.url)}t.activeTab(n)},activeTab:function(n){Admin.currentTab=n;$(".tabs-header-item,.tabs-body-item").removeClass("active");$("#htab-"+n.id+",#tab-"+n.id).addClass("active")},refreshTab:function(){var t=Admin.currentTab.id,n=$("#tab-"+t+" iframe"),i=n.attr("src");Admin._loadFrame(n,i)},closePage:function(n){var i=$("#htab-"+n.id),r=i.hasClass("active"),t;r&&(t=i.next(),t.length||(t=i.prev()),t.length&&this.activeTab(t.data("data")));i.remove();$("#tab-"+n.id).remove()},closeAll:function(){var n=this;$(".tabs-header-item").each(function(t,i){var r=$(i).data("data");$(i).text()===Language.HomePage?n.activeTab(r):$("#htab-"+r.id+",#tab-"+r.id).remove()})},closeOne:function(n){var t=$("#"+n).text();t!==Language.HomePage&&this.closePage($("#"+n).data("data"))},closeOther:function(n){var t=this;$(".tabs-header-item").each(function(i,r){if($(r).text()!==Language.HomePage){var u=$(r).data("data");$(r).attr("id")===n?t.activeTab(u):$("#htab-"+u.id+",#tab-"+u.id).remove()}})},bindContextMenu:function(){var t=this,n;$(document).click(function(){n&&n.length&&n.remove()});$(".tabs-header").contextmenu(function(i){var r,u,f;if(i.preventDefault(),r=[],i.target.className==="tabs-header"?r.push({Code:"closeAll",Icon:"fa fa-times",Name:Language.CloseAll}):i.target.className==="title"&&(r.push({Code:"closeAll",Icon:"fa fa-times",Name:Language.CloseAll}),r.push({Code:"closeOne",Icon:"fa fa-times-circle-o",Name:Language.CloseOne}),r.push({Code:"closeOther",Icon:"fa fa-times-circle",Name:Language.CloseOther})),r.length)for(n=$(".ctxmCloseTab").html(""),n.length||(n=$('<ul class="contextmenu ctxmCloseTab">').appendTo($("body"))),n.css({top:i.pageY+"px",left:i.pageX+"px"}),u=0;u<r.length;u++)f=r[u],$("<li>").data("code",f.Code).append('<i class="'+f.Icon+'">').append("<span>"+f.Name+"<\/span>").on("click",function(){t[$(this).data("code")].call(t,i.target.parentNode.id);n.remove()}).appendTo(n)})}},ExtForm=window.ExtForm={};window.Admin=Admin;$(document).contextmenu(function(n){n.preventDefault()});$(function(){var n,t;window.localStorage||(n='<div id="h5NotSupport" class="layout-alert">',n+='<div class="alert-content">'+Language.BrowserTips+"<\/div>",n+='<div class="alert-toolbar"><button class="ok" style="margin-right:20px;">'+Language.IKnow+'<\/button><button class="cancel">'+Language.GoToDownload+"<\/button><\/div>",n+="<\/div>",t=Layer.open({width:450,height:250,content:n,success:function(){$("#h5NotSupport button.ok").click(function(){t.close()});$("#h5NotSupport button.cancel").click(function(){window.open("https://www.baidu.com/s?wd=chrome")})}}));Admin.show({multiTab:!0,Feedback:baseUrl+"/System/Feedback",Help:baseUrl+"/Home/Help",GetUserData:baseUrl+"/data/UserData.json",SignOut:baseUrl+"/signout"})});